<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.vfunding.vfunding.biz.borrow.dao.BorrowMapper">
	<resultMap id="Base_BaseResultMap" type="cn.vfunding.vfunding.biz.borrow.model.Borrow">
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="litpic" property="litpic" jdbcType="VARCHAR" />
		<result column="vouch_user" property="vouchUser" jdbcType="VARCHAR" />
		<result column="time_limit" property="timeLimit" jdbcType="SMALLINT" />
		<result column="account" property="account" jdbcType="DECIMAL" />
		<result column="account_yes" property="accountYes" jdbcType="DECIMAL" />
		<result column="apr" property="apr" jdbcType="DECIMAL" />
		<result column="expectApr" property="expectApr" jdbcType="DECIMAL" />
		<result column="status" property="status" jdbcType="TINYINT" />
		<result column="isday" property="isday" />
		<result column="time_limit_day" property="timeLimitDay" />
		<result column="repayment_account" property="repaymentAccount"
			jdbcType="DECIMAL" />
		<result column="repayment_yesaccount" property="repaymentYesaccount"
			jdbcType="DECIMAL" />
		<result column="style" property="style" jdbcType="TINYINT" />
		<result column="biaoType" property="biaoType" jdbcType="VARCHAR" />
		<result column="tender_time" property="tenderTime" jdbcType="TIMESTAMP" />
		<result column="lowest_account" property="lowestAccount"
			jdbcType="DECIMAL" />
		<!-- 产品相关 -->
		 <result column="product_type" property="productType" jdbcType="INTEGER" />
	    <result column="product_group" property="productGroup" jdbcType="INTEGER" />
	     <result column="jy_status" property="jyStatus" jdbcType="INTEGER" />
	    
	    <result column="qx_date" property="qxDate"  />
	     <result column="hk_date" property="hkDate"  />
	    
	    <result column="hk_type" property="hkType" jdbcType="INTEGER" />
	    <result column="lj_money" property="ljMoney" jdbcType="DECIMAL" />
	    <result column="yy_tags" property="yyTags" jdbcType="INTEGER" />
	    <result column="bz_tags" property="bzTags" jdbcType="INTEGER" />
	    <result column="buy_button_name" property="buyButtonName" jdbcType="VARCHAR" />
	</resultMap>

	<resultMap type="cn.vfunding.vfunding.biz.common.vo.VerifyBorrowVO"
		extends="Base_BaseResultMap" id="fianlVerifyBorrowResult">
		<result column="repayment_account" property="repaymentAccount"
			jdbcType="DECIMAL" />
		<result column="mortgageTypeid" property="mortgageTypeid"
			jdbcType="INTEGER" />
		<result column="borrowId" property="borrowId" jdbcType="INTEGER" />
		<result column="userName" property="userName" jdbcType="VARCHAR" />
		<result column="borrowName" property="borrowName" jdbcType="VARCHAR" />
		<result column="interest" property="interest" jdbcType="DECIMAL" />
		<result column="tenderTimes" property="tenderTimes" jdbcType="DECIMAL" />
		<result column="addtime" property="addtime" jdbcType="VARCHAR" />
		<result column="verifyTime" property="verifyTime" jdbcType="VARCHAR" />
		<result column="repaymentTimeStr" property="repaymentTimeStr"
			jdbcType="VARCHAR" />
		<result column="status" property="status" jdbcType="TINYINT" />
		<result column="aprStr" property="aprStr" jdbcType="DECIMAL" />
		<result column="account_yes" property="accountYes" jdbcType="DECIMAL" />
	</resultMap>

	<resultMap type="cn.vfunding.vfunding.biz.common.vo.ReleaseBorrowVO"
		extends="Base_BaseResultMap" id="releaseDetailsResultMap">
		<result column="award" property="award" jdbcType="TINYINT" />
		<result column="mortgage_type_id" property="mortgageTypeId"
			jdbcType="INTEGER" />
		<result column="isday" property="isday" jdbcType="TINYINT" />
		<result column="time_limit_day" property="timeLimitDay"
			jdbcType="TINYINT" />
		<result column="part_account" property="partAccount" jdbcType="DECIMAL" />
		<result column="danbao" property="danbao" jdbcType="TINYINT" />
		<result column="isFast" property="isFast" jdbcType="TINYINT" />
		<result column="lowestAccount" property="lowestAccount"
			jdbcType="DECIMAL" />
		<result column="pwd" property="pwd" jdbcType="VARCHAR" />
		<result column="pwd" property="pwd" jdbcType="VARCHAR" />
		<result column="mortgage_id" property="mortgageId" jdbcType="VARCHAR" />
		<result column="use" property="use" jdbcType="VARCHAR" />
		<result column="owner_name" property="ownerName" jdbcType="VARCHAR" />
		<result column="owner_cardid" property="ownerCardid" jdbcType="VARCHAR" />
		<result column="owner_mobile" property="ownerMobile" jdbcType="VARCHAR" />
		<result column="owner_address" property="ownerAddress"
			jdbcType="VARCHAR" />
		<result column="car_license" property="carLicense" jdbcType="VARCHAR" />
		<result column="car_strutNum" property="carStrutNum" jdbcType="VARCHAR" />
		<result column="car_number" property="carNumber" jdbcType="VARCHAR" />
		<result column="open_account" property="openAccount" jdbcType="TINYINT" />
		<result column="open_borrow" property="openBorrow" jdbcType="TINYINT" />
		<result column="open_tender" property="openTender" jdbcType="TINYINT" />
		<result column="open_credit" property="openCredit" jdbcType="TINYINT" />
		<result column="valid_time" property="validTime" jdbcType="TINYINT" />
		<result column="content" property="content" jdbcType="VARCHAR" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="style" property="style" jdbcType="TINYINT" />
		<result column="contract_start" property="contractStart"
			jdbcType="DATE" />
		<result column="contract_end" property="contractEnd" jdbcType="DATE" />
	</resultMap>

	<resultMap type="cn.vfunding.vfunding.biz.borrow.model.Borrow"
		extends="Base_BaseResultMap" id="detailsResultMap">
		<!-- status -->
	    <result column="status" property="status" jdbcType="TINYINT" />
	    <!-- account_yes -->
	    
	    
		<result column="award" property="award" jdbcType="TINYINT" />
		<result column="style" property="style" jdbcType="TINYINT" />
		<result column="mortgage_id" property="mortgageId" jdbcType="INTEGER" />
		<result column="mortgage_type_id" property="mortgageTypeid"
			jdbcType="INTEGER" />
		<result column="tenderEndtime" property="tenderEndtime" />
		<result column="lowest_account" property="lowestAccount"
			jdbcType="DECIMAL" />
		<result column="isday" property="isday" jdbcType="TINYINT" />
		<result column="time_limit_day" property="timeLimitDay"
			jdbcType="TINYINT" />
		<result column="part_account" property="partAccount" jdbcType="DECIMAL" />
		<result column="content" property="content" jdbcType="VARCHAR" />
		<result column="biao_type" property="biaoType" />
		<result column="user_id" property="userId" />
		<result column="contract_start" property="contractStart"></result>
		<result column="contract_end" property="contractEnd"></result>
		<result column="verify_time" property="verifyTime"></result>
		<result column="addtime" property="addtime"></result>
	</resultMap>

	<resultMap id="BaseResultMap" type="cn.vfunding.vfunding.biz.borrow.model.Borrow"
		extends="Base_BaseResultMap">
		<result column="is_vouch" property="isVouch" jdbcType="TINYINT" />
		<result column="user_id" property="userId" jdbcType="INTEGER" />
		<result column="site_id" property="siteId" jdbcType="SMALLINT" />
		<result column="danbao" property="danbao" jdbcType="TINYINT" />
		<result column="order" property="order" jdbcType="INTEGER" />
		<result column="hits" property="hits" jdbcType="INTEGER" />
		<result column="flag" property="flag" jdbcType="VARCHAR" />
		<result column="type" property="type" jdbcType="VARCHAR" />
		<result column="view_type" property="viewType" jdbcType="INTEGER" />
		<result column="vouch_award" property="vouchAward" jdbcType="VARCHAR" />
		<result column="vouch_account" property="vouchAccount"
			jdbcType="VARCHAR" />
		<result column="vouch_times" property="vouchTimes" jdbcType="INTEGER" />
		<result column="source" property="source" jdbcType="VARCHAR" />
		<result column="publish" property="publish" jdbcType="VARCHAR" />
		<result column="customer" property="customer" jdbcType="VARCHAR" />
		<result column="number_id" property="numberId" jdbcType="VARCHAR" />
		<result column="verify_user" property="verifyUser" jdbcType="INTEGER" />
		<result column="verify_time" property="verifyTime" jdbcType="INTEGER" />
		<result column="verify_remark" property="verifyRemark"
			jdbcType="VARCHAR" />
		<result column="repayment_user" property="repaymentUser"
			jdbcType="INTEGER" />
		<result column="forst_account" property="forstAccount"
			jdbcType="DECIMAL" />

		<result column="monthly_repayment" property="monthlyRepayment"
			jdbcType="DECIMAL" />

		<result column="repayment_yesinterest" property="repaymentYesinterest"
			jdbcType="DECIMAL" />
		<result column="repayment_time" property="repaymentTime"
			jdbcType="INTEGER" />
		<result column="repayment_remark" property="repaymentRemark"
			jdbcType="VARCHAR" />
		<result column="success_time" property="successTime" jdbcType="INTEGER" />
		<result column="end_time" property="endTime" jdbcType="INTEGER" />
		<result column="payment_account" property="paymentAccount"
			jdbcType="DECIMAL" />
		<result column="each_time" property="eachTime" jdbcType="VARCHAR" />
		<result column="use" property="use" jdbcType="VARCHAR" />
		<result column="style" property="style" jdbcType="TINYINT" />
		<result column="tender_times" property="tenderTimes" jdbcType="SMALLINT" />
		<result column="lowest_account" property="lowestAccount"
			jdbcType="DECIMAL" />
		<result column="most_account" property="mostAccount" jdbcType="DECIMAL" />
		<result column="valid_time" property="validTime" jdbcType="INTEGER" />
		<result column="award" property="award" jdbcType="TINYINT" />
		<result column="part_account" property="partAccount" jdbcType="DECIMAL" />
		<result column="funds" property="funds" jdbcType="VARCHAR" />
		<result column="is_false" property="isFalse" jdbcType="VARCHAR" />
		<result column="open_account" property="openAccount" jdbcType="TINYINT" />
		<result column="open_borrow" property="openBorrow" jdbcType="TINYINT" />
		<result column="open_tender" property="openTender" jdbcType="TINYINT" />
		<result column="open_credit" property="openCredit" jdbcType="TINYINT" />
		<result column="addtime" property="addtime" jdbcType="INTEGER" />
		<result column="addip" property="addip" jdbcType="VARCHAR" />
		<result column="is_mb" property="isMb" jdbcType="TINYINT" />
		<result column="is_fast" property="isFast" jdbcType="TINYINT" />
		<result column="is_jin" property="isJin" jdbcType="TINYINT" />
		<result column="pwd" property="pwd" jdbcType="VARCHAR" />
		<result column="isday" property="isday" jdbcType="TINYINT" />
		<result column="time_limit_day" property="timeLimitDay"
			jdbcType="TINYINT" />
		<result column="danbao" property="danbao" jdbcType="TINYINT" />
		<result column="is_kuai" property="isKuai" jdbcType="TINYINT" />
		<result column="is_lz" property="isLz" jdbcType="TINYINT" />
		<result column="biao_type" property="biaoType" jdbcType="VARCHAR" />
		<result column="borrow_fee" property="borrowFee" jdbcType="DECIMAL" />
		<result column="is_xin" property="isXin" jdbcType="TINYINT" />
		<result column="mortgage_type_id" property="mortgageTypeid"
			jdbcType="INTEGER" />
		<result column="mortgage_id" property="mortgageId" jdbcType="INTEGER" />
		<!--合同开始时间、合同结束时间 -->
		<result column="" property=""></result>
		<result column="" property=""></result>

	</resultMap>


	<resultMap id="ResultMapWithBLOBs" type="cn.vfunding.vfunding.biz.borrow.model.Borrow"
		extends="BaseResultMap">
		<result column="content" property="content" jdbcType="LONGVARCHAR" />
	</resultMap>

	<resultMap id="convertContentMap" type="cn.vfunding.vfunding.biz.borrow.model.Borrow">
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="mortgage_type_id" property="mortgageTypeid"
			jdbcType="INTEGER" />
		<result column="mortgage_id" property="mortgageId" jdbcType="INTEGER" />
		<result column="content" property="content" jdbcType="LONGVARCHAR" />
	</resultMap>

	<select id="selectByConvertContent" resultMap="convertContentMap">
		select id,content,mortgage_type_id,mortgage_id from rd_borrow where
		content is not null and content <![CDATA[ <> '']]>
		and mortgage_type_id is not null
	</select>

	<!-- 初审字段 -->
	<resultMap id="TheTrialListResultMap"
		type="cn.vfunding.vfunding.biz.common.vo.TheTrialBorrowVO" extends="Base_BaseResultMap">
		<result column="username" property="username" jdbcType="VARCHAR" />
		<result column="owner_name" property="ownername" jdbcType="VARCHAR" />
		<result column="addtime" property="addtime" jdbcType="VARCHAR" />
		<result column="biao_type" property="biaoType" jdbcType="VARCHAR" />
		<result column="mortgage_type_id" property="mortgageTypeid"
			jdbcType="VARCHAR" />
	</resultMap>

	<sql id="Base_Column_List">
		id, site_id, user_id, name, status, `order`, hits,
		litpic,flag,
		is_vouch, type, view_type,vouch_award,vouch_user,
		vouch_account,
		vouch_times, source,
		publish,
		customer,number_id,verify_time, verify_remark,
		repayment_user,
		forst_account,repayment_account,
		monthly_repayment,repayment_yesaccount,
		repayment_yesinterest,
		repayment_time, repayment_remark,success_time, end_time,
		payment_account,
		each_time,`use`, time_limit,
		style, account,
		account_yes, tender_times, apr, lowest_account, most_account,
		valid_time, award,
		part_account, funds,
		is_false, open_account,
		open_borrow, open_tender,
		open_credit,
		addtime, addip, is_mb, is_fast,
		is_jin, pwd,
		isday, time_limit_day, danbao,
		is_kuai,
		is_lz,
		biao_type,
		borrow_fee, is_xin,mortgage_type_id,mortgage_id
	</sql>

	<sql id="Blob_Column_List">
		content
	</sql>

	<!-- 复审列表 -->
	<select id="selectFinalBorrowListPage" resultMap="fianlVerifyBorrowResult"
		parameterType="cn.vfunding.common.framework.utils.page.PageSearch">
		select b.id as borrowId,u.username as userName, b.name as borrowName,
		b.account as account,b.apr as apr,(b.apr-fee.b_fee-fee.g_fee) as
		aprStr,
		b.tender_times as
		tenderTimes,b.time_limit as
		timeLimit,b.biao_type as biaoType,
		DATE_FORMAT(from_unixtime(b.addtime),'%Y-%m-%d %H:%i:%s') as addtime,
		DATE_FORMAT(from_unixtime(b.verify_time),'%Y-%m-%d %H:%i:%s') as
		verifyTime,b.`status` as `status`,b.mortgage_type_id as mortgageTypeid
		from rd_borrow b LEFT JOIN rd_user u
		on b.user_id=u.user_id left join
		rd_investors_fee fee on b.id=fee.b_id where 1=1
		<if test="entity.status != null">
			and b.status = #{entity.status,jdbcType=INTEGER}
		</if>
		<if test="entity.status == null or entity.status == ''">
			and b.status in (1,3,4)
		</if>
		<if test="entity.biaoType !=null and entity.biaoType != ''">
			and b.biao_type = #{entity.biaoType,jdbcType=VARCHAR}
		</if>
		<if test="entity.username != null and entity.username != ''">
			and u.username like
			concat('%',#{entity.username,jdbcType=VARCHAR},'%')
		</if>
		and b.account=b.account_yes order by b.verify_time desc
	</select>
	<!-- 后台借款标管理 -->
	<select id="selectBorrowSystemListPage" resultMap="fianlVerifyBorrowResult"
		parameterType="cn.vfunding.common.framework.utils.page.PageSearch">
		select b.id as borrowId,u.username as userName, b.name as borrowName,
		b.account as account,b.apr as apr,(b.apr-fee.b_fee-fee.g_fee) as
		aprStr,
		b.tender_times as
		tenderTimes,b.time_limit as
		timeLimit,b.biao_type as biaoType,
		DATE_FORMAT(from_unixtime(b.addtime),'%Y-%m-%d %H:%i:%s') as addtime,
		DATE_FORMAT(from_unixtime(b.verify_time),'%Y-%m-%d %H:%i:%s') as
		verifyTime,b.`status` as `status`
		from rd_borrow b LEFT JOIN rd_user u
		on b.user_id=u.user_id left join rd_investors_fee fee on b.id=fee.b_id
		where 1=1
		<if test="entity.status != null">
			<if test="entity.status == 0">
				<![CDATA[and b.status < 10]]><!-- 非体验标的全部借款标 -->
			</if>
			<if test="entity.status != 0">
				and b.status = #{entity.status,jdbcType=INTEGER}
			</if>
		</if>
		<if test="entity.startTime != null and entity.startTime != ''">
			<![CDATA[ and b.verify_time >= #{entity.startTime,jdbcType=VARCHAR} ]]>
		</if>
		<if test="entity.endTime != null and entity.endTime != ''">
			<![CDATA[ and b.verify_time <= #{entity.endTime,jdbcType=VARCHAR} ]]>
		</if>
		order by b.addtime desc
	</select>

	<!-- 查询需要流标的集合 -->
	<select id="selectByStatus" resultMap="ResultMapWithBLOBs"
		parameterType="java.lang.Integer">
		select id,name,`status`,account,user_id
		from rd_borrow
		where `status` =
		#{status,jdbcType=INTEGER} 
 		<![CDATA[ and (verify_time+valid_time*24*60*60)<unix_timestamp(now()) ]]>
	</select>


	<select id="selectById" resultMap="ResultMapWithBLOBs"
		parameterType="java.lang.Integer">
		select
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		from rd_borrow
		where id = #{id,jdbcType=INTEGER}
	</select>
	<!-- 首页显示2条体验标 -->
	<select id="selectFeelBorrowForIndex" resultMap="ResultMapWithBLOBs"
		parameterType="java.lang.Integer">
		select
		<include refid="Base_Column_List" />
		,
		<include refid="Blob_Column_List" />
		FROM `rd_borrow` where status in (10,30) order by addtime desc limit
		0,2
	</select>

	<!-- 待撤标列表 -->
	<select id="failBorrowListPage" resultMap="fianlVerifyBorrowResult"
		parameterType="cn.vfunding.common.framework.utils.page.PageSearch">
		select b.id as borrowId,u.username as userName, b.name
		as borrowName,
		b.account as account,b.apr as
		apr,(b.apr-fee.b_fee-fee.g_fee) as aprStr,
		b.tender_times as
		tenderTimes,b.time_limit as timeLimit,b.biao_type as biaoType,
		DATE_FORMAT(from_unixtime(b.addtime),'%Y-%m-%d %H:%i:%s') as addtime,
		DATE_FORMAT(from_unixtime(b.verify_time),'%Y-%m-%d %H:%i:%s') as
		verifyTime,b.`status` as `status`
		from rd_borrow b LEFT JOIN rd_user u
		on b.user_id=u.user_id left join rd_investors_fee fee on b.id=fee.b_id
		where b.status = #{entity.status,jdbcType=INTEGER}
		order by
		b.verify_time desc
	</select>

	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		delete from
		rd_borrow
		where id = #{id,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="cn.vfunding.vfunding.biz.borrow.model.Borrow">
		insert into rd_borrow
		(id,site_id, user_id,
		name, status, `order`, hits, litpic,
		flag,
		is_vouch, type,
		view_type,
		vouch_award, vouch_user, vouch_account,
		vouch_times, source, publish, customer, number_id, verify_user,
		verify_time,
		verify_remark,
		repayment_user, forst_account,
		repayment_account,
		monthly_repayment, repayment_yesaccount,
		repayment_yesinterest,
		repayment_time, repayment_remark,
		success_time,
		end_time, payment_account, each_time, `use`, time_limit, style,
		account, account_yes, tender_times, apr, lowest_account, most_account,
		valid_time, award, part_account,
		funds, is_false, open_account,
		open_borrow, open_tender, open_credit,
		addtime, addip, is_mb,
		is_fast,
		is_jin, pwd,
		isday, time_limit_day, danbao,
		is_kuai, is_lz, biao_type,
		borrow_fee, is_xin,mortgage_type_id,mortgage_id,
		content,contract_start,contract_end
		)
		values
		(#{id,jdbcType=INTEGER},
		#{siteId,jdbcType=SMALLINT},
		#{userId,jdbcType=INTEGER},
		#{name,jdbcType=VARCHAR},
		#{status,jdbcType=TINYINT},
		#{order,jdbcType=INTEGER},
		#{hits,jdbcType=INTEGER},
		#{litpic,jdbcType=VARCHAR},
		#{flag,jdbcType=VARCHAR},
		#{isVouch,jdbcType=TINYINT},
		#{type,jdbcType=VARCHAR},
		#{viewType,jdbcType=INTEGER},
		#{vouchAward,jdbcType=VARCHAR},
		#{vouchUser,jdbcType=VARCHAR},
		#{vouchAccount,jdbcType=VARCHAR},
		#{vouchTimes,jdbcType=INTEGER},
		#{source,jdbcType=VARCHAR},
		#{publish,jdbcType=VARCHAR},
		#{customer,jdbcType=VARCHAR},
		#{numberId,jdbcType=VARCHAR},
		#{verifyUser,jdbcType=INTEGER},
		#{verifyTime,jdbcType=INTEGER},
		#{verifyRemark,jdbcType=VARCHAR},
		#{repaymentUser,jdbcType=INTEGER},
		#{forstAccount,jdbcType=DECIMAL},
		#{repaymentAccount,jdbcType=DECIMAL},
		#{monthlyRepayment,jdbcType=DECIMAL},
		#{repaymentYesaccount,jdbcType=DECIMAL},
		#{repaymentYesinterest,jdbcType=DECIMAL},
		#{repaymentTime,jdbcType=INTEGER},
		#{repaymentRemark,jdbcType=VARCHAR},
		#{successTime,jdbcType=INTEGER},
		#{endTime,jdbcType=INTEGER},
		#{paymentAccount,jdbcType=DECIMAL},
		#{eachTime,jdbcType=VARCHAR},
		#{use,jdbcType=VARCHAR},
		#{timeLimit,jdbcType=SMALLINT},
		#{style,jdbcType=TINYINT},
		#{account,jdbcType=DECIMAL}, #{accountYes,jdbcType=DECIMAL},
		#{tenderTimes,jdbcType=SMALLINT},
		#{apr,jdbcType=DECIMAL},
		#{lowestAccount,jdbcType=DECIMAL}, #{mostAccount,jdbcType=DECIMAL},
		#{validTime,jdbcType=INTEGER},
		#{award,jdbcType=TINYINT},
		#{partAccount,jdbcType=DECIMAL},
		#{funds,jdbcType=VARCHAR},
		#{isFalse,jdbcType=VARCHAR},
		#{openAccount,jdbcType=TINYINT},
		#{openBorrow,jdbcType=TINYINT}, #{openTender,jdbcType=TINYINT},
		#{openCredit,jdbcType=TINYINT},
		#{addtime,jdbcType=INTEGER},
		#{addip,jdbcType=VARCHAR}, #{isMb,jdbcType=TINYINT},
		#{isFast,jdbcType=TINYINT}, #{isJin,jdbcType=TINYINT},
		#{pwd,jdbcType=VARCHAR},
		#{isday,jdbcType=TINYINT},
		#{timeLimitDay,jdbcType=TINYINT}, #{danbao,jdbcType=TINYINT},
		#{isKuai,jdbcType=TINYINT},
		#{isLz,jdbcType=TINYINT},
		#{biaoType,jdbcType=VARCHAR},
		#{borrowFee,jdbcType=DECIMAL},
		#{isXin,jdbcType=TINYINT},#{mortgageTypeid,jdbcType=INTEGER},#{mortgageId,jdbcType=INTEGER},
		#{content,jdbcType=LONGVARCHAR},
		#{contractStart,jdbcType=DATE},
		#{contractEnd,jdbcType=DATE}
		)
	</insert>
	<insert id="insertSelective" parameterType="cn.vfunding.vfunding.biz.borrow.model.Borrow"
		useGeneratedKeys="true" keyProperty="id">
		insert into rd_borrow
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="siteId != null">
				site_id,
			</if>
			<if test="userId != null">
				user_id,
			</if>
			<if test="name != null">
				name,
			</if>
			<if test="status != null">
				status,
			</if>
			<if test="order != null">
				`order`,
			</if>
			<if test="hits != null">
				hits,
			</if>
			<if test="litpic != null">
				litpic,
			</if>
			<if test="flag != null">
				flag,
			</if>
			<if test="isVouch != null">
				is_vouch,
			</if>
			<if test="type != null">
				type,
			</if>
			<if test="viewType != null">
				view_type,
			</if>
			<if test="vouchAward != null">
				vouch_award,
			</if>
			<if test="vouchUser != null">
				vouch_user,
			</if>
			<if test="vouchAccount != null">
				vouch_account,
			</if>
			<if test="vouchTimes != null">
				vouch_times,
			</if>
			<if test="source != null">
				source,
			</if>
			<if test="publish != null">
				publish,
			</if>
			<if test="customer != null">
				customer,
			</if>
			<if test="numberId != null">
				number_id,
			</if>
			<if test="verifyUser != null">
				verify_user,
			</if>
			<if test="verifyTime != null">
				verify_time,
			</if>
			<if test="verifyRemark != null">
				verify_remark,
			</if>
			<if test="repaymentUser != null">
				repayment_user,
			</if>
			<if test="forstAccount != null">
				forst_account,
			</if>
			<if test="repaymentAccount != null">
				repayment_account,
			</if>
			<if test="monthlyRepayment != null">
				monthly_repayment,
			</if>
			<if test="repaymentYesaccount != null">
				repayment_yesaccount,
			</if>
			<if test="repaymentYesinterest != null">
				repayment_yesinterest,
			</if>
			<if test="repaymentTime != null">
				repayment_time,
			</if>
			<if test="repaymentRemark != null">
				repayment_remark,
			</if>
			<if test="successTime != null">
				success_time,
			</if>
			<if test="endTime != null">
				end_time,
			</if>
			<if test="paymentAccount != null">
				payment_account,
			</if>
			<if test="eachTime != null">
				each_time,
			</if>
			<if test="use != null">
				`use`,
			</if>
			<if test="timeLimit != null">
				time_limit,
			</if>
			<if test="style != null">
				style,
			</if>
			<if test="account != null">
				account,
			</if>
			<if test="accountYes != null">
				account_yes,
			</if>
			<if test="tenderTimes != null">
				tender_times,
			</if>
			<if test="apr != null">
				apr,
			</if>
			<if test="lowestAccount != null">
				lowest_account,
			</if>
			<if test="mostAccount != null">
				most_account,
			</if>
			<if test="validTime != null">
				valid_time,
			</if>
			<if test="award != null">
				award,
			</if>
			<if test="partAccount != null">
				part_account,
			</if>
			<if test="funds != null">
				funds,
			</if>
			<if test="isFalse != null">
				is_false,
			</if>
			<if test="openAccount != null">
				open_account,
			</if>
			<if test="openBorrow != null">
				open_borrow,
			</if>
			<if test="openTender != null">
				open_tender,
			</if>
			<if test="openCredit != null">
				open_credit,
			</if>
			<if test="addtime != null">
				addtime,
			</if>
			<if test="addip != null">
				addip,
			</if>
			<if test="isMb != null">
				is_mb,
			</if>
			<if test="isFast != null">
				is_fast,
			</if>
			<if test="isJin != null">
				is_jin,
			</if>
			<if test="pwd != null">
				pwd,
			</if>
			<if test="isday != null">
				isday,
			</if>
			<if test="timeLimitDay != null">
				time_limit_day,
			</if>
			<if test="danbao != null">
				danbao,
			</if>
			<if test="isKuai != null">
				is_kuai,
			</if>
			<if test="isLz != null">
				is_lz,
			</if>
			<if test="biaoType != null">
				biao_type,
			</if>
			<if test="borrowFee != null">
				borrow_fee,
			</if>
			<if test="isXin != null">
				is_xin,
			</if>
			<if test="mortgageTypeid != null">
				mortgage_type_id,
			</if>
			<if test="mortgageId != null">
				mortgage_id,
			</if>
			<if test="content != null">
				content,
			</if>
			<if test="contractStart != null">
				contract_start,
			</if>
			<if test="contractEnd != null">
				contract_end,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=INTEGER},
			</if>
			<if test="siteId != null">
				#{siteId,jdbcType=SMALLINT},
			</if>
			<if test="userId != null">
				#{userId,jdbcType=INTEGER},
			</if>
			<if test="name != null">
				#{name,jdbcType=VARCHAR},
			</if>
			<if test="status != null">
				#{status,jdbcType=TINYINT},
			</if>
			<if test="order != null">
				#{order,jdbcType=INTEGER},
			</if>
			<if test="hits != null">
				#{hits,jdbcType=INTEGER},
			</if>
			<if test="litpic != null">
				#{litpic,jdbcType=VARCHAR},
			</if>
			<if test="flag != null">
				#{flag,jdbcType=VARCHAR},
			</if>
			<if test="isVouch != null">
				#{isVouch,jdbcType=TINYINT},
			</if>
			<if test="type != null">
				#{type,jdbcType=VARCHAR},
			</if>
			<if test="viewType != null">
				#{viewType,jdbcType=INTEGER},
			</if>
			<if test="vouchAward != null">
				#{vouchAward,jdbcType=VARCHAR},
			</if>
			<if test="vouchUser != null">
				#{vouchUser,jdbcType=VARCHAR},
			</if>
			<if test="vouchAccount != null">
				#{vouchAccount,jdbcType=VARCHAR},
			</if>
			<if test="vouchTimes != null">
				#{vouchTimes,jdbcType=INTEGER},
			</if>
			<if test="source != null">
				#{source,jdbcType=VARCHAR},
			</if>
			<if test="publish != null">
				#{publish,jdbcType=VARCHAR},
			</if>
			<if test="customer != null">
				#{customer,jdbcType=VARCHAR},
			</if>
			<if test="numberId != null">
				#{numberId,jdbcType=VARCHAR},
			</if>
			<if test="verifyUser != null">
				#{verifyUser,jdbcType=INTEGER},
			</if>
			<if test="verifyTime != null">
				#{verifyTime,jdbcType=INTEGER},
			</if>
			<if test="verifyRemark != null">
				#{verifyRemark,jdbcType=VARCHAR},
			</if>
			<if test="repaymentUser != null">
				#{repaymentUser,jdbcType=INTEGER},
			</if>
			<if test="forstAccount != null">
				#{forstAccount,jdbcType=DECIMAL},
			</if>
			<if test="repaymentAccount != null">
				#{repaymentAccount,jdbcType=DECIMAL},
			</if>
			<if test="monthlyRepayment != null">
				#{monthlyRepayment,jdbcType=DECIMAL},
			</if>
			<if test="repaymentYesaccount != null">
				#{repaymentYesaccount,jdbcType=DECIMAL},
			</if>
			<if test="repaymentYesinterest != null">
				#{repaymentYesinterest,jdbcType=DECIMAL},
			</if>
			<if test="repaymentTime != null">
				#{repaymentTime,jdbcType=INTEGER},
			</if>
			<if test="repaymentRemark != null">
				#{repaymentRemark,jdbcType=VARCHAR},
			</if>
			<if test="successTime != null">
				#{successTime,jdbcType=INTEGER},
			</if>
			<if test="endTime != null">
				#{endTime,jdbcType=INTEGER},
			</if>
			<if test="paymentAccount != null">
				#{paymentAccount,jdbcType=DECIMAL},
			</if>
			<if test="eachTime != null">
				#{eachTime,jdbcType=VARCHAR},
			</if>
			<if test="use != null">
				#{use,jdbcType=VARCHAR},
			</if>
			<if test="timeLimit != null">
				#{timeLimit,jdbcType=SMALLINT},
			</if>
			<if test="style != null">
				#{style,jdbcType=TINYINT},
			</if>
			<if test="account != null">
				#{account,jdbcType=DECIMAL},
			</if>
			<if test="accountYes != null">
				#{accountYes,jdbcType=DECIMAL},
			</if>
			<if test="tenderTimes != null">
				#{tenderTimes,jdbcType=SMALLINT},
			</if>
			<if test="apr != null">
				#{apr,jdbcType=DECIMAL},
			</if>
			<if test="lowestAccount != null">
				#{lowestAccount,jdbcType=DECIMAL},
			</if>
			<if test="mostAccount != null">
				#{mostAccount,jdbcType=DECIMAL},
			</if>
			<if test="validTime != null">
				#{validTime,jdbcType=INTEGER},
			</if>
			<if test="award != null">
				#{award,jdbcType=TINYINT},
			</if>
			<if test="partAccount != null">
				#{partAccount,jdbcType=DECIMAL},
			</if>
			<if test="funds != null">
				#{funds,jdbcType=VARCHAR},
			</if>
			<if test="isFalse != null">
				#{isFalse,jdbcType=VARCHAR},
			</if>
			<if test="openAccount != null">
				#{openAccount,jdbcType=TINYINT},
			</if>
			<if test="openBorrow != null">
				#{openBorrow,jdbcType=TINYINT},
			</if>
			<if test="openTender != null">
				#{openTender,jdbcType=TINYINT},
			</if>
			<if test="openCredit != null">
				#{openCredit,jdbcType=TINYINT},
			</if>
			<if test="addtime != null">
				#{addtime,jdbcType=INTEGER},
			</if>
			<if test="addip != null">
				#{addip,jdbcType=VARCHAR},
			</if>
			<if test="isMb != null">
				#{isMb,jdbcType=TINYINT},
			</if>
			<if test="isFast != null">
				#{isFast,jdbcType=TINYINT},
			</if>
			<if test="isJin != null">
				#{isJin,jdbcType=TINYINT},
			</if>
			<if test="pwd != null">
				#{pwd,jdbcType=VARCHAR},
			</if>
			<if test="isday != null">
				#{isday,jdbcType=TINYINT},
			</if>
			<if test="timeLimitDay != null">
				#{timeLimitDay,jdbcType=TINYINT},
			</if>
			<if test="danbao != null">
				#{danbao,jdbcType=TINYINT},
			</if>
			<if test="isKuai != null">
				#{isKuai,jdbcType=TINYINT},
			</if>
			<if test="isLz != null">
				#{isLz,jdbcType=TINYINT},
			</if>
			<if test="biaoType != null">
				#{biaoType,jdbcType=VARCHAR},
			</if>
			<if test="borrowFee != null">
				#{borrowFee,jdbcType=DECIMAL},
			</if>
			<if test="isXin != null">
				#{isXin,jdbcType=TINYINT},
			</if>
			<if test="mortgageTypeid != null">
				#{mortgageTypeid,jdbcType=INTEGER},
			</if>
			<if test="mortgageId != null">
				#{mortgageId,jdbcType=INTEGER},
			</if>
			<if test="content != null">
				#{content,jdbcType=LONGVARCHAR},
			</if>
			<if test="contractStart != null">
				#{contractStart,jdbcType=DATE},
			</if>
			<if test="contractEnd != null">
				#{contractEnd,jdbcType=DATE},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="cn.vfunding.vfunding.biz.borrow.model.Borrow">
		update rd_borrow
		<set>
			<if test="siteId != null">
				site_id = #{siteId,jdbcType=SMALLINT},
			</if>
			<if test="userId != null">
				user_id = #{userId,jdbcType=INTEGER},
			</if>
			<if test="name != null">
				name = #{name,jdbcType=VARCHAR},
			</if>
			<if test="status != null">
				status = #{status,jdbcType=TINYINT},
			</if>
			
			<!-- 产品起息日，还款日 -->
			<if test="qxDate != null">
			    qx_date = #{qxDate},
			</if>
			<if test="qxDate != null">
			    hk_date = #{hkDate},
			</if>
			
			
			<if test="order != null">
				`order` = #{order,jdbcType=INTEGER},
			</if>
			<if test="hits != null">
				hits = #{hits,jdbcType=INTEGER},
			</if>
			<if test="litpic != null">
				litpic = #{litpic,jdbcType=VARCHAR},
			</if>
			<if test="flag != null">
				flag = #{flag,jdbcType=VARCHAR},
			</if>
			<if test="isVouch != null">
				is_vouch = #{isVouch,jdbcType=TINYINT},
			</if>
			<if test="type != null">
				type = #{type,jdbcType=VARCHAR},
			</if>
			<if test="viewType != null">
				view_type = #{viewType,jdbcType=INTEGER},
			</if>
			<if test="vouchAward != null">
				vouch_award = #{vouchAward,jdbcType=VARCHAR},
			</if>
			<if test="vouchUser != null">
				vouch_user = #{vouchUser,jdbcType=VARCHAR},
			</if>
			<if test="vouchAccount != null">
				vouch_account = #{vouchAccount,jdbcType=VARCHAR},
			</if>
			<if test="vouchTimes != null">
				vouch_times = #{vouchTimes,jdbcType=INTEGER},
			</if>
			<if test="source != null">
				source = #{source,jdbcType=VARCHAR},
			</if>
			<if test="publish != null">
				publish = #{publish,jdbcType=VARCHAR},
			</if>
			<if test="customer != null">
				customer = #{customer,jdbcType=VARCHAR},
			</if>
			<if test="numberId != null">
				number_id = #{numberId,jdbcType=VARCHAR},
			</if>
			<if test="verifyUser != null">
				verify_user = #{verifyUser,jdbcType=INTEGER},
			</if>
			<if test="verifyTime != null">
				verify_time = #{verifyTime,jdbcType=INTEGER},
			</if>
			<if test="verifyRemark != null">
				verify_remark = #{verifyRemark,jdbcType=VARCHAR},
			</if>
			<if test="repaymentUser != null">
				repayment_user = #{repaymentUser,jdbcType=INTEGER},
			</if>
			<if test="forstAccount != null">
				forst_account = #{forstAccount,jdbcType=DECIMAL},
			</if>
			<if test="repaymentAccount != null">
				repayment_account = #{repaymentAccount,jdbcType=DECIMAL},
			</if>
			<if test="monthlyRepayment != null">
				monthly_repayment = #{monthlyRepayment,jdbcType=DECIMAL},
			</if>
			<if test="repaymentYesaccount != null">
				repayment_yesaccount =
				#{repaymentYesaccount,jdbcType=DECIMAL},
			</if>
			<if test="repaymentYesinterest != null">
				repayment_yesinterest =
				#{repaymentYesinterest,jdbcType=DECIMAL},
			</if>
			<if test="repaymentTime != null">
				repayment_time = #{repaymentTime,jdbcType=INTEGER},
			</if>
			<if test="repaymentRemark != null">
				repayment_remark = #{repaymentRemark,jdbcType=VARCHAR},
			</if>
			<if test="successTime != null">
				success_time = #{successTime,jdbcType=INTEGER},
			</if>
			<if test="endTime != null">
				end_time = #{endTime,jdbcType=INTEGER},
			</if>
			<if test="paymentAccount != null">
				payment_account = #{paymentAccount,jdbcType=DECIMAL},
			</if>
			<if test="eachTime != null">
				each_time = #{eachTime,jdbcType=VARCHAR},
			</if>
			<if test="use != null">
				`use` = #{use,jdbcType=VARCHAR},
			</if>
			<if test="timeLimit != null">
				time_limit = #{timeLimit,jdbcType=SMALLINT},
			</if>
			<if test="style != null">
				style = #{style,jdbcType=TINYINT},
			</if>
			<if test="account != null">
				account = #{account,jdbcType=DECIMAL},
			</if>
			<if test="accountYes != null">
				account_yes = #{accountYes,jdbcType=DECIMAL},
			</if>
			<if test="tenderTimes != null">
				tender_times = #{tenderTimes,jdbcType=SMALLINT},
			</if>
			<if test="apr != null">
				apr = #{apr,jdbcType=DECIMAL},
			</if>
			<if test="lowestAccount != null">
				lowest_account = #{lowestAccount,jdbcType=DECIMAL},
			</if>
			<if test="mostAccount != null">
				most_account = #{mostAccount,jdbcType=DECIMAL},
			</if>
			<if test="validTime != null">
				valid_time = #{validTime,jdbcType=INTEGER},
			</if>
			<if test="award != null">
				award = #{award,jdbcType=TINYINT},
			</if>
			<if test="partAccount != null">
				part_account = #{partAccount,jdbcType=DECIMAL},
			</if>
			<if test="funds != null">
				funds = #{funds,jdbcType=VARCHAR},
			</if>
			<if test="isFalse != null">
				is_false = #{isFalse,jdbcType=VARCHAR},
			</if>
			<if test="openAccount != null">
				open_account = #{openAccount,jdbcType=TINYINT},
			</if>
			<if test="openBorrow != null">
				open_borrow = #{openBorrow,jdbcType=TINYINT},
			</if>
			<if test="openTender != null">
				open_tender = #{openTender,jdbcType=TINYINT},
			</if>
			<if test="openCredit != null">
				open_credit = #{openCredit,jdbcType=TINYINT},
			</if>
			<if test="addtime != null">
				addtime = #{addtime,jdbcType=INTEGER},
			</if>
			<if test="addip != null">
				addip = #{addip,jdbcType=VARCHAR},
			</if>
			<if test="isMb != null">
				is_mb = #{isMb,jdbcType=TINYINT},
			</if>
			<if test="isFast != null">
				is_fast = #{isFast,jdbcType=TINYINT},
			</if>
			<if test="isJin != null">
				is_jin = #{isJin,jdbcType=TINYINT},
			</if>
			<if test="pwd != null">
				pwd = #{pwd,jdbcType=VARCHAR},
			</if>
			<if test="isday != null">
				isday = #{isday,jdbcType=TINYINT},
			</if>
			<if test="timeLimitDay != null">
				time_limit_day = #{timeLimitDay,jdbcType=TINYINT},
			</if>
			<if test="danbao != null">
				danbao = #{danbao,jdbcType=TINYINT},
			</if>
			<if test="isKuai != null">
				is_kuai = #{isKuai,jdbcType=TINYINT},
			</if>
			<if test="isLz != null">
				is_lz = #{isLz,jdbcType=TINYINT},
			</if>
			<if test="biaoType != null">
				biao_type = #{biaoType,jdbcType=VARCHAR},
			</if>
			<if test="borrowFee != null">
				borrow_fee = #{borrowFee,jdbcType=DECIMAL},
			</if>
			<if test="isXin != null">
				is_xin = #{isXin,jdbcType=TINYINT},
			</if>
			<if test="mortgageTypeid != null">
				mortgage_type_id = #{mortgageTypeid,jdbcType=INTEGER},
			</if>
			<if test="mortgageId != null">
				mortgage_id = #{mortgageId,jdbcType=INTEGER},
			</if>
			<if test="content != null">
				content = #{content,jdbcType=LONGVARCHAR},
			</if>

			<if test="contractStart != null">
				contract_start=#{contractStart,jdbcType=DATE},

			</if>
			<if test="contractEnd != null">
				contract_end=#{contractEnd,jdbcType=DATE},
			</if>


		</set>
		where id = #{id,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKeyWithBLOBs" parameterType="cn.vfunding.vfunding.biz.borrow.model.Borrow">
		update
		rd_borrow
		set site_id =
		#{siteId,jdbcType=SMALLINT},
		user_id =
		#{userId,jdbcType=INTEGER},
		name =
		#{name,jdbcType=VARCHAR},
		status =
		#{status,jdbcType=TINYINT},
		order =
		#{order,jdbcType=INTEGER},
		hits =
		#{hits,jdbcType=INTEGER},
		litpic =
		#{litpic,jdbcType=VARCHAR},
		flag =
		#{flag,jdbcType=VARCHAR},
		is_vouch =
		#{isVouch,jdbcType=TINYINT},
		type =
		#{type,jdbcType=VARCHAR},
		view_type =
		#{viewType,jdbcType=INTEGER},
		vouch_award =
		#{vouchAward,jdbcType=VARCHAR},
		vouch_user =
		#{vouchUser,jdbcType=VARCHAR},
		vouch_account =
		#{vouchAccount,jdbcType=VARCHAR},
		vouch_times =
		#{vouchTimes,jdbcType=INTEGER},
		source =
		#{source,jdbcType=VARCHAR},
		publish = #{publish,jdbcType=VARCHAR},
		customer =
		#{customer,jdbcType=VARCHAR},
		number_id =
		#{numberId,jdbcType=VARCHAR},
		verify_user = #{verifyUser,jdbcType=INTEGER},
		verify_time =
		#{verifyTime,jdbcType=INTEGER},
		verify_remark =
		#{verifyRemark,jdbcType=VARCHAR},
		repayment_user =
		#{repaymentUser,jdbcType=INTEGER},
		forst_account =
		#{forstAccount,jdbcType=DECIMAL},
		repayment_account =
		#{repaymentAccount,jdbcType=DECIMAL},
		monthly_repayment =
		#{monthlyRepayment,jdbcType=DECIMAL},
		repayment_yesaccount =
		#{repaymentYesaccount,jdbcType=DECIMAL},
		repayment_yesinterest =
		#{repaymentYesinterest,jdbcType=DECIMAL},
		repayment_time =
		#{repaymentTime,jdbcType=INTEGER},
		repayment_remark =
		#{repaymentRemark,jdbcType=VARCHAR},
		success_time =
		#{successTime,jdbcType=INTEGER},
		end_time =
		#{endTime,jdbcType=INTEGER},
		payment_account =
		#{paymentAccount,jdbcType=DECIMAL},
		each_time =
		#{eachTime,jdbcType=VARCHAR},
		use =
		#{use,jdbcType=VARCHAR},
		time_limit
		=
		#{timeLimit,jdbcType=SMALLINT},
		style = #{style,jdbcType=TINYINT},
		account = #{account,jdbcType=DECIMAL},
		account_yes =
		#{accountYes,jdbcType=DECIMAL},
		tender_times =
		#{tenderTimes,jdbcType=SMALLINT},
		apr = #{apr,jdbcType=DECIMAL},
		lowest_account =
		#{lowestAccount,jdbcType=DECIMAL},
		most_account =
		#{mostAccount,jdbcType=DECIMAL},
		valid_time =
		#{validTime,jdbcType=INTEGER},
		award =
		#{award,jdbcType=TINYINT},
		part_account = #{partAccount,jdbcType=DECIMAL},
		funds =
		#{funds,jdbcType=VARCHAR},
		is_false = #{isFalse,jdbcType=VARCHAR},
		open_account = #{openAccount,jdbcType=TINYINT},
		open_borrow =
		#{openBorrow,jdbcType=TINYINT},
		open_tender =
		#{openTender,jdbcType=TINYINT},
		open_credit =
		#{openCredit,jdbcType=TINYINT},
		addtime = #{addtime,jdbcType=INTEGER},
		addip = #{addip,jdbcType=VARCHAR},
		is_mb =
		#{isMb,jdbcType=TINYINT},
		is_fast =
		#{isFast,jdbcType=TINYINT},
		is_jin =
		#{isJin,jdbcType=TINYINT},
		pwd =
		#{pwd,jdbcType=VARCHAR},
		isday =
		#{isday,jdbcType=TINYINT},
		time_limit_day =
		#{timeLimitDay,jdbcType=TINYINT},
		danbao =
		#{danbao,jdbcType=TINYINT},
		is_kuai = #{isKuai,jdbcType=TINYINT},
		is_lz = #{isLz,jdbcType=TINYINT},
		biao_type
		=
		#{biaoType,jdbcType=VARCHAR},
		borrow_fee =
		#{borrowFee,jdbcType=DECIMAL},
		is_xin = #{isXin,jdbcType=TINYINT},

		mortgage_type_id =
		#{mortgageTypeid,jdbcType=INTEGER},
		mortgage_id =
		#{mortgageId,jdbcType=INTEGER},
		content =
		#{content,jdbcType=LONGVARCHAR},
		contract_start =
		#{contractStart,jdbcType=DATE},
		contract_end =
		#{contractEnd,jdbcType=DATE}
		where id =
		#{id,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="cn.vfunding.vfunding.biz.borrow.model.Borrow">
		update rd_borrow
		set site_id =
		#{siteId,jdbcType=SMALLINT},
		user_id =
		#{userId,jdbcType=INTEGER},
		name =
		#{name,jdbcType=VARCHAR},
		status =
		#{status,jdbcType=TINYINT},
		`order` =
		#{order,jdbcType=INTEGER},
		hits =
		#{hits,jdbcType=INTEGER},
		litpic =
		#{litpic,jdbcType=VARCHAR},
		flag =
		#{flag,jdbcType=VARCHAR},
		is_vouch =
		#{isVouch,jdbcType=TINYINT},
		type =
		#{type,jdbcType=VARCHAR},
		view_type =
		#{viewType,jdbcType=INTEGER},
		vouch_award =
		#{vouchAward,jdbcType=VARCHAR},
		vouch_user =
		#{vouchUser,jdbcType=VARCHAR},
		vouch_account =
		#{vouchAccount,jdbcType=VARCHAR},
		vouch_times =
		#{vouchTimes,jdbcType=INTEGER},
		source =
		#{source,jdbcType=VARCHAR},
		publish =
		#{publish,jdbcType=VARCHAR},
		customer =
		#{customer,jdbcType=VARCHAR},
		number_id =
		#{numberId,jdbcType=VARCHAR},
		verify_user =
		#{verifyUser,jdbcType=INTEGER},
		verify_time =
		#{verifyTime,jdbcType=INTEGER},
		verify_remark =
		#{verifyRemark,jdbcType=VARCHAR},
		repayment_user =
		#{repaymentUser,jdbcType=INTEGER},
		forst_account =
		#{forstAccount,jdbcType=DECIMAL},
		repayment_account =
		#{repaymentAccount,jdbcType=DECIMAL},
		monthly_repayment =
		#{monthlyRepayment,jdbcType=DECIMAL},
		repayment_yesaccount =
		#{repaymentYesaccount,jdbcType=DECIMAL},
		repayment_yesinterest =
		#{repaymentYesinterest,jdbcType=DECIMAL},
		repayment_time =
		#{repaymentTime,jdbcType=INTEGER},
		repayment_remark =
		#{repaymentRemark,jdbcType=VARCHAR},
		success_time =
		#{successTime,jdbcType=INTEGER},
		end_time =
		#{endTime,jdbcType=INTEGER},
		payment_account =
		#{paymentAccount,jdbcType=DECIMAL},
		each_time =
		#{eachTime,jdbcType=VARCHAR},
		`use` = #{use,jdbcType=VARCHAR},
		time_limit
		= #{timeLimit,jdbcType=SMALLINT},
		style =
		#{style,jdbcType=TINYINT},
		account =
		#{account,jdbcType=DECIMAL},
		account_yes =
		#{accountYes,jdbcType=DECIMAL},
		tender_times =
		#{tenderTimes,jdbcType=SMALLINT},
		apr =
		#{apr,jdbcType=DECIMAL},
		lowest_account = #{lowestAccount,jdbcType=DECIMAL},
		most_account =
		#{mostAccount,jdbcType=DECIMAL},
		valid_time =
		#{validTime,jdbcType=INTEGER},
		award = #{award,jdbcType=TINYINT},
		part_account = #{partAccount,jdbcType=DECIMAL},
		funds =
		#{funds,jdbcType=VARCHAR},
		is_false = #{isFalse,jdbcType=VARCHAR},
		open_account = #{openAccount,jdbcType=TINYINT},
		open_borrow =
		#{openBorrow,jdbcType=TINYINT},
		open_tender =
		#{openTender,jdbcType=TINYINT},
		open_credit =
		#{openCredit,jdbcType=TINYINT},
		addtime = #{addtime,jdbcType=INTEGER},
		addip = #{addip,jdbcType=VARCHAR},
		is_mb =
		#{isMb,jdbcType=TINYINT},
		is_fast = #{isFast,jdbcType=TINYINT},
		is_jin =
		#{isJin,jdbcType=TINYINT},
		pwd =
		#{pwd,jdbcType=VARCHAR},
		isday =
		#{isday,jdbcType=TINYINT},
		time_limit_day =
		#{timeLimitDay,jdbcType=TINYINT},
		danbao =
		#{danbao,jdbcType=TINYINT},
		is_kuai = #{isKuai,jdbcType=TINYINT},
		is_lz = #{isLz,jdbcType=TINYINT},
		biao_type =
		#{biaoType,jdbcType=VARCHAR},
		borrow_fee =
		#{borrowFee,jdbcType=DECIMAL},
		is_xin =
		#{isXin,jdbcType=TINYINT},
		mortgage_type_id = #{mortgageTypeid,jdbcType=INTEGER},
		mortgage_id =
		#{mortgageId,jdbcType=INTEGER},
		contract_start =
		#{contractStart,jdbcType=DATE},
		contract_end =
		#{contractEnd,jdbcType=DATE}
		where
		id =
		#{id,jdbcType=INTEGER}
	</update>
	<!-- 首页查询 -->
	<select id="selectBorrowForIndex" resultMap="Base_BaseResultMap">
		select
		id,name,time_limit,account,account_yes,apr,expectApr,`status`,a.repayment_account,a.repayment_yesaccount
		from (
		select a.id, a.user_id, a.name,
		a.time_limit, a.account,
		a.account_yes,a.apr,a.status,
		a.danbao,DATE_add(a.verify_time,INTERVAL
		1 year) as
		verify_time,a.apr-ifnull(b.b_fee,0)-ifnull(b.g_fee,0) as
		expectApr,a.repayment_account,a.repayment_yesaccount
		from rd_borrow a
		left join
		rd_investors_fee b on a.id
		=b.b_id
		where
		(a.status = 30 and
		a.account-a.account_yes>0) limit 0,2
		UNION
		select a.id, a.user_id,
		a.name, a.time_limit,
		a.account,
		a.account_yes,a.apr,a.status,
		a.danbao,a.verify_time as
		verify_time,a.apr-ifnull(b.b_fee,0)-ifnull(b.g_fee,0)
		as
		expectApr,a.repayment_account,a.repayment_yesaccount
		from rd_borrow a
		left join rd_investors_fee b on a.id
		=b.b_id
		<![CDATA[where (a.status = 1 or (a.status = 3 and a.is_lz<>1))]]>
		) a order by a.account_yes/a.account asc,a.verify_time desc limit 0,6
	</select>

	<!-- 体验标查询 -->
	<select id="selectFeelBorrow" resultMap="Base_BaseResultMap"
		parameterType="java.lang.Integer">
		select a.id, a.user_id, a.name, a.time_limit,
		a.account,a.style,
		a.account_yes,a.status,a.time_limit_day,a.isday,
		a.danbao,a.verify_time,a.apr-ifnull(b.b_fee,0)-ifnull(b.g_fee,0) as
		expectApr,a.repayment_account,a.repayment_yesaccount,a.litpic,a.biao_type
		as biaoType
		from
		rd_borrow a
		left join rd_investors_fee b on a.id
		=b.b_id
		where (a.status
		= 10 or
		a.status
		= 30 ) order by a.account_yes/a.account
		asc,a.success_time desc limit 0,#{rows}
	</select>

	<!-- 真实标查询 用于首页 -->
	<select id="selectBorrowListPage" resultMap="Base_BaseResultMap"
		parameterType="cn.vfunding.common.framework.utils.page.PageSearch">
		select a.id,
		a.user_id,a.style,
		a.name, a.time_limit, a.account,
		a.account_yes,a.status,a.time_limit_day,a.isday,
		a.danbao,a.verify_time
		,a.apr-ifnull(b.b_fee,0)-ifnull(b.g_fee,0)
		as
		expectApr,a.repayment_account,a.repayment_yesaccount,a.litpic,a.biao_type
		as biaoType
		from
		rd_borrow a
		left join rd_investors_fee b
		on a.id
		=b.b_id
		where (a.status
		<![CDATA[= 1 or (a.status = 3 and a.is_lz<>1)) ]]>
		order by a.account_yes/a.account
		asc,a.success_time desc
	</select>

	<!-- 真实标查询 用于borrowList -->
	<select id="selectAllBorrowListPage" resultMap="Base_BaseResultMap"
		parameterType="cn.vfunding.common.framework.utils.page.PageSearch">
		SELECT
		a.id,
		a.user_id,
		a.name,
		a.time_limit,
		a.account,
		a.account_yes,
		a.status,
		a.time_limit_day,
		a.isday,
		a.danbao,
		a.verify_time,
		a.apr -
		IFNULL(b.b_fee, 0) - IFNULL(b.g_fee, 0) AS expectApr,
		a.repayment_account,
		a.repayment_yesaccount,
		a.litpic,
		a.biao_type AS
		biaoType,
		c.tender_time,
		c.lowest_account
		FROM
		rd_borrow a
		LEFT JOIN
		rd_investors_fee b ON
		a.id = b.b_id
		left join
		vf_borrow_rule c on
		a.id=c.borrow_id
		where 1=1
		and a.status in(1,3)
		<if test="entity!=null and entity.status ==1">
			and a.status in (1,10) and a.account>a.account_yes
		</if>
		<if test="entity!=null and entity.status ==11">
			and a.status in (1,10) and a.account_yes=a.account
		</if>
		<if test="entity!=null and entity.status ==3">
			and a.status in (3,30)
		</if>
		<if test="entity!=null and entity.timeLimit !=null">
			and time_limit =#{entity.timeLimit}
		</if>
		<if test="entity!=null and entity.biaoType!=null and entity.biaoType!='' ">
			and biao_type=#{entity.biaoType}
		</if>
		<if test="entity!=null and entity.style !=null">
			and style=#{entity.style}
		</if>
		order by a.account_yes/a.account asc,a.status,a.success_time desc
	</select>
	<!-- 根据用户ID分页查询 -->
	<select id="selectByUserIdListPage" resultMap="Base_BaseResultMap"
		parameterType="cn.vfunding.common.framework.utils.page.PageSearch">
		select
		id,name,time_limit,account,account_yes,apr,vouch_user,expectApr,litpic,`status`
		from rd_borrow where
		user_id=#{entity.userId,jdbcType=INTEGER}
		<if test="entity != null and entity.start != null and entity.end != null ">
			and addtime BETWEEN #{entity.start,jdbcType=INTEGER} and
			#{entity.end,jdbcType=INTEGER}
		</if>
		<if test="entity != null and entity.status != null ">
			and `status` = #{entity.status,jdbcType=INTEGER}
		</if>
		order by addtime desc
	</select>

	<!-- borrowDetails信息 -->
	<select id="selectBorrowById" resultMap="detailsResultMap"
		parameterType="java.lang.Integer">
		select	a.status,
		a.id,a.name,a.user_id,c.username,a.account,a.account_yes,a.time_limit,a.lowest_account,a.most_account,a.vouch_user,a.award,a.isday,a.time_limit_day,a.apr,a.mortgage_id,
		a.content,a.verify_time,a.addtime,a.mortgage_type_id,
		a.apr-ifnull(b.b_fee,0)-ifnull(b.g_fee,0) as
		expectApr,a.part_account,
		DATE_FORMAT(from_unixtime(a.verify_time + a.valid_time *24 * 60
		*60),'%Y-%m-%d %H:%i') as
		tenderEndtime,a.style,a.biao_type,a.contract_start ,a.contract_end
		from
		rd_borrow a left join
		rd_investors_fee b on a.id=b.b_id
		left join
		rd_user c on
		a.user_id
		=c.user_id
		where
		a.id=#{id} limit 0,1
	</select>
	<!-- 发标页面详情信息 -->
	<select id="selectBorrowForRelease" resultMap="releaseDetailsResultMap"
		parameterType="cn.vfunding.vfunding.biz.common.vo.ReleaseBorrowVO">
		SELECT b.id as id,b.account as account,b.apr as
		apr,b.time_limit as timeLimit,b.valid_time as vaildTime, b.`use` as
		`use`, b.danbao as danabo
		,b.is_fast as isFast,b.lowest_account as
		lowestAccount,
		b.contract_start as contractStart,
		b.contract_end as
		contractEnd,
		b.pwd as pwd,b.litpic as litpic,b.style as
		style,mc.owner_address as ownerAddress,
		mc.owner_name as
		ownerName,mc.owner_cardid as
		ownerCardid,mc.owner_mobile as
		ownerMobile,mc.owner_address as ownerAddress,
		mc.car_strut_num as
		carStrutNum,mc.car_license as
		carLicense,mc.car_number as carNumber,
		b.open_account as openAccount,b.open_borrow as
		openBorrow,b.open_tender as openTender,b.open_credit as
		openCredit
		,b.name as name,b.content as content,b.mortgage_id as
		mortgageId,b.mortgage_type_id as mortgageTypeId
		FROM `rd_borrow` b LEFT
		JOIN
		rd_mortgage_car mc on b.mortgage_id=mc.id
		where
		b.id=#{borrowId,jdbcType=INTEGER}
	</select>

	<!-- 借款总金额 -->
	<select id="selectSumBorrowAccount" resultType="java.math.BigDecimal"
		parameterType="java.lang.Integer">
		select sum(account) from rd_borrow where `status` = 3
		and
		user_id=#{userId, jdbcType=INTEGER}
	</select>

	<!-- 借款信息查询 -->
	<select id="selectBorrowByUserIdListPage" resultMap="BaseResultMap"
		parameterType="cn.vfunding.common.framework.utils.page.PageSearch">
		select
		b.id,b.addtime,b.name,b.time_limit,b.account,b.repayment_account,b.repayment_yesaccount,b.status,b.biao_type
		from rd_borrow b
		left JOIN rd_user
		u on
		b.user_id=u.user_id
		where <![CDATA[b.biao_type<>"feel" ]]>
		and u.user_id=#{entity.userId}
		<if test="entity!=null and entity.status!=null and entity.status !=10">
			and b.status=#{entity.status}
		</if>
		<if test="entity!=null and entity.type==2">
			and b.repayment_yesaccount+1>=b.repayment_account
		</if>
		<if test="entity!=null and entity.type==1">
		 <![CDATA[  and b.repayment_yesaccount+1<=b.repayment_account  ]]>
		</if>
		<if test="entity!=null and entity.startTime">
			and b.addtime>=#{entity.startTime}
		</if>
		<if test="entity!=null and entity.endTime">
		 <![CDATA[ and b.addtime<=#{entity.endTime} ]]>
		</if>
		order by b.addtime desc
	</select>

	<!-- 初审列表 -->
	<select id="selectTheTrialListPage" resultMap="TheTrialListResultMap"
		parameterType="cn.vfunding.common.framework.utils.page.PageSearch">
		select a.id,a.user_id,c.username,
		a.status,a.name,a.account,a.account_yes,a.time_limit,a.time_limit_day,a.apr,a.addtime,
		a. product_type, a.product_group,a.jy_status, a.qx_date, a.hk_type, a.lj_money, a.yy_tags, a.bz_tags, 
    	a.buy_button_name,
		b.owner_name,a.biao_type,a.mortgage_type_id from rd_borrow a
		left join
		rd_mortgage_car
		b on
		a.mortgage_id=b.id
		left join rd_user c on
		a.user_id=c.user_id
		where 1=1
		<!--
		<if test="entity.status != null">
			and a.status = #{entity.status,jdbcType=INTEGER}
		</if>
		 <if test="entity.status == null or entity.status == ''">
			and a.status in (0,1,2)
		</if> 
		<if test="entity.biaoType !=null and entity.biaoType != ''">
			and a.biao_type = #{entity.biaoType,jdbcType=VARCHAR}
		</if>
		
		order by a.status,a.addtime desc
		-->
		<if test="entity.username != null and entity.username != ''">
			and c.username like
			concat('%',#{entity.username,jdbcType=VARCHAR},'%')
		</if>
		order by a.addtime desc
	</select>












	<!-- *****************************************************www.8jie.com***************************************************************************** -->





	<!-- 天标列表 -->
	<select id="dayBorrowListPage" resultMap="fianlVerifyBorrowResult"
		parameterType="cn.vfunding.common.framework.utils.page.PageSearch">
		select b.id as borrowId,u.username as userName, b.name as borrowName,
		b.repayment_account as repaymentAccount,
		ADDDATE(DATE_FORMAT(from_unixtime(b.verify_time),'%Y-%m-%d'),INTERVAL
		b.time_limit_day day) as repaymentTimeStr,
		b.account as account,b.apr
		as apr,(b.apr-fee.b_fee-fee.g_fee) as
		aprStr,b.account_yes as
		accountYes, b.tender_times as tenderTimes,b.time_limit_day as
		timeLimit,b.biao_type as biaoType,
		DATE_FORMAT(from_unixtime(b.addtime),'%Y-%m-%d %H:%i:%s') as addtime,
		DATE_FORMAT(from_unixtime(b.verify_time),'%Y-%m-%d %H:%i:%s') as
		verifyTime,b.`status` as `status`
		from rd_borrow b LEFT JOIN rd_user u
		on b.user_id=u.user_id left join rd_investors_fee fee on b.id=fee.b_id
		where isday = 1
		<if test="entity.status != null">
			and b.status = #{entity.status,jdbcType=INTEGER}
		</if>
		<if test="entity.status == null">
			<![CDATA[ and b.status <= 10 ]]>
		</if>
		<if test="entity.username != null and entity.username != ''">
			and b.name like
			concat('%',#{entity.username,jdbcType=VARCHAR},'%')
		</if>
		<if test="entity.startTime != null and entity.startTime != ''">
			<![CDATA[ and FROM_UNIXTIME(b.verify_time,'%Y-%m-%d') >= #{entity.startTime,jdbcType=VARCHAR} ]]>
		</if>
		<if test="entity.endTime != null and entity.endTime != ''">
			<![CDATA[ and FROM_UNIXTIME(b.verify_time,'%Y-%m-%d') < ADDDATE(#{entity.endTime,jdbcType=VARCHAR},INTERVAL 1 day) ]]>
		</if>
		order by b.addtime desc
	</select>
</mapper>